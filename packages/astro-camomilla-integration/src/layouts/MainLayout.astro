---
import { ClientRouter } from 'astro:transitions'
import { styles } from 'virtual:camomilla-css-compiler'
import SeoHead from '../components/SeoHead.astro'
import { getIntegrationOptions } from '../utils/getIntegrationOptions.js'
const seo = Astro.locals.camomilla?.page

export interface Props {
  lang?: string
}

const { lang } = Astro.props
const { enableTransitions } = getIntegrationOptions()
---

<!doctype html>
<html lang={lang || 'en'}>
  <head>
    {enableTransitions && <ClientRouter />}
    {styles && <style set:html={styles} type="text/css" data-vite-dev-id="global-css" />}
    <link rel="icon" href="/favicon.ico" sizes="any" />
    <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <slot name="seo-head-before" />
    <slot name="seo-head">
      <SeoHead seo={seo} />
    </slot>
    <slot name="seo-head-after" />
  </head>
  <body>
    <slot name="header" />
    <slot />
    <slot name="footer" />
  </body>
</html>
